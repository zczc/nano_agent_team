# Nano Agent Team

<div align="center">

**ä¸€ä¸ªçµæ´»ã€æ ‡å‡†åŒ–ã€åŸºäºæ–‡ä»¶ç³»ç»Ÿé»‘æ¿æ¨¡å‹çš„å¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶**

ä¸­æ–‡æ–‡æ¡£ï¼ˆæœ¬é¡µï¼‰ | [English](README.md)

[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

</div>

---

## ğŸ“– ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#-é¡¹ç›®ç®€ä»‹)
- [æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [TUI ä½¿ç”¨æŒ‡å—](#ï¸-tui-ä½¿ç”¨æŒ‡å—)
- [CLI ä½¿ç”¨æŒ‡å—](#-cli-ä½¿ç”¨æŒ‡å—)
- [ç›®å½•ç»“æ„è¯¦è§£](#-ç›®å½•ç»“æ„è¯¦è§£)
- [é»‘æ¿æœºåˆ¶](#-é»‘æ¿æœºåˆ¶)
- [å·¥å…·ç³»ç»Ÿ](#-å·¥å…·ç³»ç»Ÿ)
- [é«˜çº§ç”¨æ³•](#-é«˜çº§ç”¨æ³•)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)

---

## ğŸ’¡ é¡¹ç›®ç®€ä»‹

**Nano Agent Team** æ˜¯ä¸€ä¸ªè¯•éªŒæ€§è´¨çš„åŸºäº **é»‘æ¿æ¨¡å‹ï¼ˆBlackboard Modelï¼‰** çš„å¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶ï¼Œé¢å‘å¤æ‚ä»»åŠ¡çš„åˆ†å¸ƒå¼å¤„ç†ã€‚å®ƒä»¥æ–‡ä»¶ç³»ç»Ÿä½œä¸ºå…±äº«æ•°æ®ç©ºé—´ï¼Œè®©å¤šä¸ªæ™ºèƒ½ä½“èƒ½å¤Ÿè‡ªä¸»åä½œã€åŠ¨æ€è§„åˆ’ä¸å®æ—¶é€šä¿¡ã€‚

### è®¾è®¡ç†å¿µ

- **åè®®å³æ•°æ® (Protocol as Data)**ï¼šä½¿ç”¨è‡ªæè¿°çš„ Markdown æ–‡ä»¶ä½œä¸ºé€šä¿¡åè®®ï¼Œè€Œéç¡¬ç¼–ç çš„ API
- **æ–‡ä»¶å³æ•°æ®åº“**ï¼šå®Œå…¨åŸºäºæ–‡ä»¶ç³»ç»Ÿï¼Œæ— éœ€é¢å¤–æ•°æ®åº“
- **åŠ¨æ€è‡ªç»„ç»‡**ï¼šWatchdog æ™ºèƒ½ä½“è‡ªåŠ¨åˆ†æä»»åŠ¡ã€è§„åˆ’é»‘æ¿ç»“æ„ã€ç”Ÿæˆå¹¶åè°ƒ Worker æ™ºèƒ½ä½“
- **äººæœºååŒ**ï¼šé€šè¿‡ TUI å®æ—¶ç›‘æ§å’Œå¹²é¢„æ™ºèƒ½ä½“æ‰§è¡Œè¿‡ç¨‹

### é€‚ç”¨åœºæ™¯

- ğŸ¯ å¤æ‚è½¯ä»¶å¼€å‘é¡¹ç›®ï¼ˆéœ€æ±‚åˆ†æ â†’ æ¶æ„è®¾è®¡ â†’ ç¼–ç  â†’ æµ‹è¯•ï¼‰
- ğŸ“Š æ•°æ®åˆ†æä¸æŠ¥å‘Šç”Ÿæˆï¼ˆæ•°æ®é‡‡é›† â†’ æ¸…æ´— â†’ åˆ†æ â†’ å¯è§†åŒ– â†’ æŠ¥å‘Šï¼‰
- ğŸ”¬ ç§‘ç ”è¾…åŠ©ï¼ˆæ–‡çŒ®æ£€ç´¢ â†’ ä¿¡æ¯æå– â†’ å®éªŒè®¾è®¡ï¼‰
- ğŸ¤ å¤šæ™ºèƒ½ä½“ååŒè®¨è®ºä¸å†³ç­–ï¼ˆå¤´è„‘é£æš´ã€è¾©è®ºã€è¯„å®¡ï¼‰

---

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

### 1. ğŸ“‹ é»‘æ¿åä½œæ¨¡å‹

**æ ¸å¿ƒç†å¿µ**ï¼š**å…¨å±€æ„ŸçŸ¥ä¸€è‡´æ€§** (Global State Consistency) + **åä½œ/æ‰§è¡Œè§£è€¦** (Decoupling of Coordination and Execution)

å¤šæ™ºèƒ½ä½“ç³»ç»Ÿæœ€å¤§çš„æŒ‘æˆ˜ï¼šå¦‚ä½•è®©å»ä¸­å¿ƒåŒ–çš„æ™ºèƒ½ä½“ç»´æŒç»Ÿä¸€çš„**å…±äº«å¿ƒæ™ºæ¨¡å‹** (Shared Mental Model)ï¼Œä»è€Œæ„ŸçŸ¥å…¨å±€çŠ¶æ€å¹¶ååŒä½œæˆ˜ã€‚æœ¬æ¡†æ¶é€šè¿‡åˆ†å±‚æ¶æ„è§£å†³è¿™ä¸€é—®é¢˜ã€‚

#### åˆ†å±‚æ¶æ„

**ğŸ¯ åä½œå±‚ (The Collaboration Plane / Index)**: `global_indices/`

- **å®šä½**ï¼šç³»ç»Ÿçš„**æ§åˆ¶ä¸­æ¢**ä¸**åŒæ­¥åŸè¯­**
- **ä½œç”¨**ï¼šç»´æŠ¤é¡¹ç›®çš„**å…¨å±€çŠ¶æ€**ï¼ˆå¦‚ä»»åŠ¡è¿›åº¦ã€ä¾èµ–å…³ç³»ã€æ¶æ„å†³ç­–ï¼‰ã€‚å®ƒæ˜¯æ‰€æœ‰æ™ºèƒ½ä½“çš„"å…±åŒè®°å¿†"ï¼Œç¡®ä¿ä»»ä½•æ—¶åˆ»æ‰€æœ‰å‚ä¸è€…å¯¹"å½“å‰åœ¨åšä»€ä¹ˆ"å’Œ"ä¸‹ä¸€æ­¥è¯¥åšä»€ä¹ˆ"æœ‰ä¸€è‡´çš„è®¤çŸ¥
- **æœºåˆ¶**ï¼šåŸºäº **CAS (Compare-And-Swap)** çš„å…ƒæ•°æ®ç®¡ç†ï¼Œæä¾›åŸå­æ€§çš„çŠ¶æ€å˜æ›´ï¼Œè§£å†³å¤šæ™ºèƒ½ä½“å¹¶å‘ç«æ€é—®é¢˜

**ğŸ“¦ èµ„æºå±‚ (The Resource Plane / Data)**: `resources/`

- **å®šä½**ï¼šç³»ç»Ÿçš„æ•°æ®ä»“åº“ä¸äº§ç‰©ä¸­å¿ƒ
- **ä½œç”¨**ï¼šå­˜å‚¨å…·ä½“çš„**æ‰§è¡Œäº§ç‰©**ï¼ˆä»£ç ã€æ–‡æ¡£ã€æ•°æ®ï¼‰ã€‚è¿™äº›æ˜¯æ™ºèƒ½ä½“åä½œçš„"ç»“æœ"ï¼Œè€Œéåä½œçš„"è¿‡ç¨‹"
- **æœºåˆ¶**ï¼šä»¥æ ‡å‡†æ–‡ä»¶ç³»ç»Ÿå½¢å¼å­˜åœ¨ï¼Œé€šè¿‡åä½œå±‚çš„ç´¢å¼•è¿›è¡Œå¼•ç”¨å’Œç‰ˆæœ¬ç®¡ç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   .blackboard/                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  global_indices/  [åä½œå±‚: Global State]           â”‚ â”‚
â”‚ â”‚  â”œâ”€â”€ central_plan.md  (ä»»åŠ¡è°ƒåº¦ä¸ä¾èµ–ç®¡ç†)          â”‚ â”‚
â”‚ â”‚  â”œâ”€â”€ notification.md  (å…¨å±€åä½œå†å²ä¸é‡Œç¨‹ç¢‘)        â”‚ â”‚
â”‚ â”‚  â””â”€â”€ ...                                           â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚  resources/       [èµ„æºå±‚: Execution Artifacts]    â”‚ â”‚
â”‚ â”‚  â”œâ”€â”€ code/            (ç”Ÿæˆçš„æºä»£ç ä»“åº“)            â”‚ â”‚
â”‚ â”‚  â”œâ”€â”€ docs/            (å‚è€ƒæ–‡æ¡£ä¸è§„èŒƒ)              â”‚ â”‚
â”‚ â”‚  â””â”€â”€ assets/          (å›¾ç‰‡/æ•°æ®/å…¶ä»–)              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å…³é”®æœºåˆ¶

**âœ… æ„å›¾å¯¹é½ (Intent Alignment)**

- é€šè¿‡ç»“æ„åŒ–çš„ç´¢å¼•æ–‡ä»¶ (Index Files) å’Œ YAML å…ƒæ•°æ®ï¼Œå°†æŠ½è±¡çš„åä½œæ„å›¾æ˜¾å¼åŒ–
- ä½¿æ™ºèƒ½ä½“èƒ½å¤Ÿè‡ªåŠ¨ç†è§£åä½œåè®®ï¼Œæ— éœ€ç¡¬ç¼–ç æ¥å£

**ğŸ”’ çŠ¶æ€å…±è¯† (State Consensus)**

- åˆ©ç”¨è½»é‡çº§çš„ä¹è§‚é”æœºåˆ¶ï¼Œåœ¨ä¸å¼•å…¥ä¸­å¿ƒåŒ–è°ƒåº¦ç“¶é¢ˆçš„å‰æä¸‹ï¼Œå®ç°åˆ†å¸ƒå¼çš„çŠ¶æ€å¼ºä¸€è‡´æ€§
- æ”¯æŒå¤šæ™ºèƒ½ä½“å¹¶å‘è¯»å†™ï¼Œè‡ªåŠ¨å¤„ç†å†²çª

### 2. ğŸ¤– Watchdog æ¶æ„å¸ˆæ¨¡å¼

**æ ¸å¿ƒç†å¿µ**ï¼š**è§„åˆ’ä¸æ‰§è¡Œåˆ†ç¦»** (Planning vs Execution Separation) + **åŸºäºè§’è‰²çš„ä»»åŠ¡ç¼–æ’** (Role-Based Orchestration)

Watchdog å°±åƒæ˜¯é¡¹ç›®çš„**äº§å“ç»ç†æˆ–æ¶æ„å¸ˆ**ï¼Œå®ƒçš„æ ¸å¿ƒèŒè´£å¹¶é"ç®¡ç†"ï¼Œè€Œæ˜¯"å®šä¹‰"ã€‚

#### è®¾è®¡åŸåˆ™

**ğŸ¯ ä¸å¹²é¢„åŸåˆ™ (Non-Interference)**

- **åªå®š Roleï¼Œä¸å®šäºº**ï¼šå®šä¹‰ Task éœ€è¦ä»€ä¹ˆ Roleï¼Œç”± Worker è‡ªä¸»è®¤é¢†
- **åªçœ‹ç»“æœï¼Œä¸é—®è¿‡ç¨‹**ï¼šä¸å¾®è§‚ç®¡ç†å…·ä½“å·¥å…·è°ƒç”¨ï¼Œåªåœ¨ä»»åŠ¡è¶…æ—¶æˆ–æ–¹å‘è·‘åæ—¶ä»‹å…¥é‡è§„åˆ’
- **èµ‹èƒ½è€Œéæ§åˆ¶**ï¼šä¸ºæ™ºèƒ½ä½“æä¾›æ¸…æ™°çš„ç›®æ ‡å’Œä¸Šä¸‹æ–‡ï¼Œä¿¡ä»»å…¶è‡ªä¸»å†³ç­–èƒ½åŠ›

#### å¤šæ¨¡å¼å…¼å®¹

å¾—ç›Šäºä¸Šè¿°è®¾è®¡åŸåˆ™ï¼Œæ¡†æ¶å¯ä»¥çµæ´»å¤„ç†ä¸åŒç±»å‹çš„å¤šæ™ºèƒ½ä½“åä½œä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š

**ğŸ—ï¸ å»ºè®¾æ¨¡å¼ (Construction Mode / Project)**

- **ç‰¹å¾**ï¼šæœ‰æ˜ç¡®çš„äº¤ä»˜ç‰©ï¼ˆå¦‚è½¯ä»¶ã€æŠ¥å‘Šï¼‰
- **èŒè´£**ï¼šå°†ç›®æ ‡æ‹†è§£ä¸º**æœ‰ä¾èµ–å…³ç³»çš„æœ‰å‘æ— ç¯å›¾ (DAG)**ã€‚ä»»åŠ¡ä¹‹é—´çº¿æ€§æˆ–å¹¶è¡Œæ¨è¿›ï¼Œæœ€ç»ˆæ±‡èšæˆä¸€ä¸ªç»“æœ
- **ç¤ºä¾‹**ï¼šè½¯ä»¶å¼€å‘ï¼ˆéœ€æ±‚ â†’ è®¾è®¡ â†’ å¼€å‘ â†’ æµ‹è¯•ï¼‰

**ğŸ® æ¨¡æ‹Ÿæ¨¡å¼ (Simulation Mode / Process)**

- **ç‰¹å¾**ï¼šå…³æ³¨è¿‡ç¨‹æœ¬èº«çš„æ¶Œç°ç°è±¡ï¼Œäº¤ä»˜ç‰©å¾€å¾€æ˜¯è¿‡ç¨‹æ—¥å¿—æˆ–å‰¯äº§å“
- **èŒè´£**ï¼šå®šä¹‰**ç¯å¢ƒè§„åˆ™**å’Œ**æ™ºèƒ½ä½“è§’è‰²**ï¼Œè®©å®ƒä»¬å¹¶è¡Œã€ç‹¬ç«‹åœ°è¿ä½œã€‚ä»»åŠ¡ä¹‹é—´å¯èƒ½æ²¡æœ‰å¼ºä¾èµ–ï¼Œè€Œæ˜¯åŸºäºç¯å¢ƒçŠ¶æ€è§¦å‘
- **ç¤ºä¾‹**ï¼šæ‘åº„æ¨¡æ‹Ÿï¼ˆæ¯ä¸ªæ‘æ°‘æŒ‰ Role ç”Ÿæ´»ï¼Œåªéœ€è‡ªå·±åœ¨é»‘æ¿æ›´æ–°çŠ¶æ€ï¼Œæ— éœ€ç­‰å¾…ä»–äººï¼‰

### 3. ğŸ¨ TUI æ§åˆ¶å°

åŸºäº [Textual](https://github.com/Textualize/textual) æ„å»ºçš„ç»ˆç«¯ç”¨æˆ·ç•Œé¢ï¼š

- **ğŸ”„ å®æ—¶ç›‘æ§**ï¼šæŸ¥çœ‹æ™ºèƒ½ä½“çš„æ€è€ƒè¿‡ç¨‹ã€å·¥å…·è°ƒç”¨å’Œæ‰§è¡Œæ—¥å¿—
- **ğŸ“Š ä»»åŠ¡çœ‹æ¿**ï¼šå¯è§†åŒ–æŸ¥çœ‹ Mission Plan çš„æ‰§è¡Œè¿›åº¦å’Œä¾èµ–å…³ç³»
- **ğŸ›ï¸ å¤šæ¨¡å‹æ”¯æŒ**ï¼šä» `llm_config.json` è¯»å–å¹¶åˆ‡æ¢å¤šå®¶æä¾›å•†æ¨¡å‹
- **âš¡ è¿è¡Œæ—¶å¹²é¢„**ï¼šåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­éšæ—¶å‘ä»»ä½•æ™ºèƒ½ä½“å‘é€æŒ‡ä»¤æˆ–åé¦ˆ
- **ğŸ¯ åŒæ¨¡å¼åˆ‡æ¢**ï¼šæ”¯æŒå•æ™ºèƒ½ä½“å¯¹è¯ï¼ˆChatï¼‰å’Œå¤šæ™ºèƒ½ä½“åä½œï¼ˆSwarmï¼‰æ¨¡å¼

### 4. ğŸ”Œ æŠ€èƒ½æ’ä»¶ç³»ç»Ÿ&subagentæ’ä»¶ç³»ç»Ÿï¼ˆå®éªŒï¼‰

æ”¯æŒé€šè¿‡ `.skills/` ç›®å½•æ‰©å±•æ™ºèƒ½ä½“èƒ½åŠ›ï¼Œå­æŠ€èƒ½éœ€åœ¨å­ç›®å½•ä¸­å®šä¹‰ï¼Œå…¶å…·ä½“å½¢å¼å‚è§ [Agent Skills æ–‡æ¡£](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/overview)

æ”¯æŒé€šè¿‡ `.subagents/` ç›®å½•æ‰©å±•æ™ºèƒ½ä½“èƒ½åŠ›ï¼Œå…¶å…·ä½“å½¢å¼å‚è§ [Sub-agents æ–‡æ¡£](https://code.claude.com/docs/en/sub-agents)

### 6. ğŸ“¡ å¤šæ¨¡å‹æ”¯æŒ

ç»Ÿä¸€çš„æ¥å£æ”¯æŒå¤šç§ LLM æä¾›å•†ï¼š

- **OpenAI**
- **DeepSeek**
- **Qwen**
- **Step**
- **Moonshot**
- **MiniMax**
- **OpenRouter**
- **XAI**
- **Together**

> ä»¥ `backend/llm_config.json` ä¸ºå‡†ï¼Œå¯è‡ªè¡Œæ‰©å±•ã€‚

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

> ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ·å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   TUI æ§åˆ¶å°      â”‚         â”‚   CLI å‘½ä»¤è¡Œ      â”‚          â”‚
â”‚  â”‚  (tui.py)        â”‚         â”‚  (main.py)       â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           â”‚         åè°ƒå±‚              â”‚                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚        Watchdog / Architect                   â”‚          â”‚
â”‚  â”‚  - ä»»åŠ¡åˆ†æä¸è§„åˆ’                               â”‚          â”‚
â”‚  â”‚  - é»‘æ¿ç»“æ„è®¾è®¡                                 â”‚          â”‚
â”‚  â”‚  - Worker æ™ºèƒ½ä½“ç”Ÿæˆ                            â”‚          â”‚
â”‚  â”‚  - è¿›åº¦ç›‘æ§ä¸å¼‚å¸¸å¤„ç†                            â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ spawn
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    â”‚       æ‰§è¡Œå±‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚         Worker Agents Pool                   â”‚           â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚           â”‚
â”‚  â”‚  â”‚Programmerâ”‚ â”‚ Reviewer â”‚ â”‚  Tester  â”‚ ...  â”‚           â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚           â”‚          â”‚          â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚            Tool Registry                     â”‚           â”‚
â”‚  â”‚  file, blackboard, bash, web_search, ...     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ read/write
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ®å±‚ (.blackboard/)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  global_indices/   # å…¨å±€ç´¢å¼•ï¼ˆä»»åŠ¡ã€æ—¶é—´çº¿ã€çŸ¥è¯†åº“ï¼‰     â”‚    â”‚
â”‚  â”‚  resources/        # èµ„æºæ–‡ä»¶ï¼ˆä»£ç ã€æ–‡æ¡£ã€æ•°æ®ï¼‰        â”‚    â”‚
â”‚  â”‚  mailboxes/        # æ™ºèƒ½ä½“é€šä¿¡ä¿¡ç®±                   â”‚    â”‚
â”‚  â”‚  logs/             # æ‰§è¡Œæ—¥å¿—                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶è¯´æ˜

#### 1. SwarmAgent

æ™ºèƒ½ä½“æ ¸å¿ƒç±»ï¼Œå°è£…äº† LLM è°ƒç”¨ã€å·¥å…·æ‰§è¡Œã€ä¸­é—´ä»¶ç®¡ç†ç­‰åŠŸèƒ½ã€‚

**ä¸»è¦èŒè´£**ï¼š

- ç®¡ç†å¯¹è¯å†å²å’Œä¸Šä¸‹æ–‡
- è°ƒåº¦å·¥å…·æ‰§è¡Œ
- åº”ç”¨ä¸­é—´ä»¶ç­–ç•¥ï¼ˆå¦‚é¢„ç®—ç®¡ç†ã€è¯·æ±‚ç›‘æ§ï¼‰
- ç”Ÿæˆç³»ç»Ÿæç¤ºè¯

**ç›¸å…³æ–‡ä»¶**ï¼š

- `src/core/agent_wrapper.py`
- `src/core/middlewares.py`
- `src/core/runtime.py`
- `src/core/prompt_builder.py`
- `backend/llm/engine.py`

#### 2. Blackboard System

**ä¸»è¦èŒè´£**ï¼š
é»‘æ¿å·¥å…·æä¾›æ ‡å‡†åŒ–çš„æ•°æ®è¯»å†™æ¥å£ï¼ˆSwarm æ¨¡å¼ï¼‰ï¼š

- `list_indices()`ï¼šåˆ—å‡ºç´¢å¼•æ–‡ä»¶
- `read_index(filename)`ï¼šè¯»å–ç´¢å¼•æ–‡ä»¶
- `append_to_index(filename, content)`ï¼šè¿½åŠ ç´¢å¼•å†…å®¹
- `update_index(filename, content, expected_checksum)`ï¼šå¸¦æ ¡éªŒæ›´æ–°
- `update_task(...)`ï¼šæ›´æ–°ä»»åŠ¡çŠ¶æ€
- `create_index(filename, content)`ï¼šåˆ›å»ºç´¢å¼•æ–‡ä»¶

**ç›¸å…³æ–‡ä»¶**ï¼š

- `src/tools/blackboard_tool.py`
- `src/core/protocol.py`
- `src/utils/file_lock.py`
- `src/core/schema.py`

#### 3. LLM Agent Engine

**ä¸»è¦èŒè´£**ï¼š
æ‰§è¡Œæ ¸å¿ƒçš„ ReAct å¾ªç¯ä¸å·¥å…·è°ƒç”¨ï¼š

- æµå¼ç”Ÿæˆä¸å‡½æ•°è°ƒç”¨
- å­æ™ºèƒ½ä½“åä½œä¸æŠ€èƒ½åŠ è½½
- ä¸­é—´ä»¶é“¾è·¯ï¼ˆé¢„ç®—ã€å¾ªç¯æ£€æµ‹ã€é”™è¯¯æ¢å¤ç­‰ï¼‰

**ç›¸å…³æ–‡ä»¶**ï¼š

- `backend/llm/engine.py`
- `backend/llm/tool_registry.py`
- `backend/llm/skill_registry.py`
- `backend/llm/decorators.py`
- `backend/llm/middleware.py`

#### 4. Prompt Builder & Protocol

åŠ¨æ€æ„å»ºç³»ç»Ÿæç¤ºè¯ä¸è§£æé»‘æ¿åè®®ï¼š

- ä»å…¨å±€ç´¢å¼•ç”Ÿæˆç³»ç»Ÿæç¤ºè¯
- è§£æ YAML Frontmatter å…ƒæ•°æ®ä¸ä½¿ç”¨ç­–ç•¥

**ç›¸å…³æ–‡ä»¶**ï¼š

- `src/core/prompt_builder.py`
- `src/core/protocol.py`
- `src/core/schema.py`

#### 5. Runtime & Lifecycle

è¿è¡Œæ—¶ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š

- æ³¨å†Œè¡¨çŠ¶æ€ç»´æŠ¤ä¸æ¸…ç†
- äº‹ä»¶æ—¥å¿—ä¸å…¨å±€é€šçŸ¥å¹¿æ’­

**ç›¸å…³æ–‡ä»¶**ï¼š

- `src/core/runtime.py`
- `src/core/middlewares.py`
- `src/tools/status_tool.py`

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Python**: 3.11 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: macOS, Linux
- **API Key**: è‡³å°‘ä¸€ä¸ª LLM æä¾›å•†çš„ API Key

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**

```bash
git clone <your-repo-url>
cd nano_agent_team
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰**

```bash
python -m venv venv
source venv/bin/activate
```

3. **å®‰è£…ä¾èµ–**

```bash
pip install -r requirements.txt
```

ä¾èµ–åŒ…æ‹¬ï¼š

- `textual>=0.40.0` - TUI æ¡†æ¶
- `openai>=1.0.0` - OpenAI API
- `anthropic>=0.3.0` - Anthropic API
- `google-generativeai>=0.3.0` - Google Gemini API
- `pydantic>=2.0.0` - æ•°æ®éªŒè¯
- `PyYAML` - YAML è§£æ
- `rich>=13.0.0` - ç»ˆç«¯ç¾åŒ–
- `browser-use`, `playwright` - æµè§ˆå™¨è‡ªåŠ¨åŒ–
- å…¶ä»–å·¥å…·åº“

4. **å®‰è£…æµè§ˆå™¨ï¼ˆå¯é€‰ï¼Œå¦‚éœ€ä½¿ç”¨ browser_use å·¥å…·ï¼‰**

å¦‚æœä½ éœ€è¦ä½¿ç”¨ `browser_use` å·¥å…·è¿›è¡Œæµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼Œéœ€è¦é¢å¤–å®‰è£… Playwright æµè§ˆå™¨ï¼š

```bash
# å®‰è£… Chromiumï¼ˆæ¨èï¼‰
playwright install chromium

# æˆ–è€…å®‰è£…æ‰€æœ‰æµè§ˆå™¨ï¼ˆChromium, Firefox, WebKitï¼‰
playwright install
```

**è¯´æ˜**ï¼š

- å¦‚æœä¸å®‰è£…æµè§ˆå™¨ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è·³è¿‡ `browser_use` å·¥å…·çš„åŠ è½½ï¼Œä¸å½±å“å…¶ä»–åŠŸèƒ½
- æµè§ˆå™¨ä¼šå®‰è£…åˆ°ç³»ç»Ÿçš„ Playwright ç¼“å­˜ç›®å½•ä¸­
- browser_useè¦æ±‚LLM provideréœ€æ”¯æŒ 'response_format' ä¸º 'json_object'ï¼Œå…·ä½“å¯å‚è€ƒ[browser_useæ–‡æ¡£](https://github.com/browser-use/browser-use)

**éªŒè¯å®‰è£…**ï¼š

```bash
# æ£€æŸ¥ Playwright ç‰ˆæœ¬
playwright --version

# æµ‹è¯•æµè§ˆå™¨æ˜¯å¦æ­£å¸¸
python -c "from playwright.sync_api import sync_playwright; p = sync_playwright().start(); print('Browser installed:', p.chromium.executable_path); p.stop()"
```

5. **åˆå§‹åŒ–é…ç½®**

é¦–æ¬¡è¿è¡Œæ—¶ä¼šè‡ªåŠ¨åˆ›å»ºé…ç½®ç›®å½•ï¼š

```bash
~/.nano_agent_team/
â”œâ”€â”€ auth.json        # API Keys
â””â”€â”€ tui_state.json    # TUI çŠ¶æ€
```

### å¯åŠ¨æ–¹å¼

#### æ–¹å¼ 1ï¼šTUI æ¨¡å¼ï¼ˆæ¨èï¼‰

```bash
python tui.py
```

å¯åŠ¨åï¼š

1. æŒ‰ `Ctrl+P` æ‰“å¼€provideré¢æ¿
2. é€‰æ‹©ä½ çš„ LLM æä¾›å•†ï¼ˆå¦‚ qwenï¼‰
3. è¾“å…¥ API Key
4. æŒ‰ `Esc` è¿”å›ï¼Œç„¶å `Ctrl+O` é€‰æ‹©æ¨¡å‹
5. è¾“å…¥ä»»åŠ¡æè¿°ï¼ŒæŒ‰ `Enter` å¼€å§‹ï¼Œå¯åœ¨ `Chat` / `Swarm` æ¨¡å¼åˆ‡æ¢

- `chat`æ¨¡å¼ï¼šå•æ™ºèƒ½ä½“å¯¹è¯
- `swarm`æ¨¡å¼ï¼šå¤šæ™ºèƒ½ä½“åä½œ

#### æ–¹å¼ 2ï¼šå‘½ä»¤è¡Œæ¨¡å¼

````bash
# ç›´æ¥æ‰§è¡Œä»»åŠ¡
python main.py "å¼€å‘ä¸€ä¸ªè´ªåƒè›‡æ¸¸æˆ"

# äº¤äº’æ¨¡å¼ï¼ˆä¼šæç¤ºè¾“å…¥ä»»åŠ¡ï¼‰
python main.py

#### æ–¹å¼ 3ï¼šWorker æ¨¡å¼ï¼ˆé«˜çº§ï¼‰

æ‰‹åŠ¨å¯åŠ¨å•ä¸ª Worker æ™ºèƒ½ä½“ï¼š

```bash
python src/cli.py \
  --role "Python å¼€å‘ä¸“å®¶" \
  --name "Coder" \
  --blackboard ".blackboard" \
  --goal "å®ç°ä¸€ä¸ªå¿«é€Ÿæ’åºç®—æ³•" \
  --model "qwen/qwen3-max"
````

### éªŒè¯å®‰è£…

è¿è¡Œæµ‹è¯•å‘½ä»¤æ£€æŸ¥ç¯å¢ƒï¼š

```bash
# æµ‹è¯• TUI å¯åŠ¨
python tui.py

# æµ‹è¯• CLI æ¨¡å¼
python main.py "ä½ å¥½ï¼Œä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±"
```

---

## ğŸ–¥ï¸ TUI ä½¿ç”¨æŒ‡å—

### ç•Œé¢æ¦‚è§ˆ

Nano Agent Team TUI ä¸»è¦åŒ…å«ä¸¤ä¸ªç•Œé¢ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Session Screen        â†’       Monitor Screen         â”‚
â”‚   (ä¸»å¯¹è¯ç•Œé¢)                   (Swarm ç›‘æ§)            â”‚
â”‚   Chat / Swarm åˆ‡æ¢             å¤šæ™ºèƒ½ä½“å®æ—¶ç›‘æ§          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

TUI ç•Œé¢æˆªå›¾
![TUI ç•Œé¢æˆªå›¾](docs/assets/tui-screenshot.jpg)

TUI æ“ä½œæ¼”ç¤ºè§†é¢‘

https://github.com/user-attachments/assets/1e6cf2fd-8832-4fe6-b6a5-fd7787075686

### 1. ä¼šè¯ç•Œé¢ (Session Screen)

**åŠŸèƒ½**ï¼šå‘èµ·ä»»åŠ¡ã€å¯¹è¯äº¤äº’ã€Chat/Swarm æ¨¡å¼åˆ‡æ¢

**ç•Œé¢å…ƒç´ **ï¼š

- è¾“å…¥æ¡†ï¼šè¾“å…¥ä»»åŠ¡æè¿°æˆ–æŒ‡ä»¤
- æ¨¡å¼åˆ‡æ¢ï¼š`Chat` / `Swarm`
- æ¨¡å‹æ˜¾ç¤ºï¼šå½“å‰å·²é€‰æ‹©çš„æ¨¡å‹

**å¿«æ·é”®**ï¼š

| å¿«æ·é”®   | åŠŸèƒ½       | è¯´æ˜                            |
| -------- | ---------- | ------------------------------- |
| `Enter`  | å¼€å§‹ä¼šè¯   | å‘é€ä»»åŠ¡æè¿°å¹¶è¿›å…¥ Session ç•Œé¢ |
| `Tab`    | åˆ‡æ¢æ¨¡å¼   | åœ¨ Chat å’Œ Swarm æ¨¡å¼é—´åˆ‡æ¢     |
| `Ctrl+P` | æœåŠ¡å•†é…ç½® | æ‰“å¼€æœåŠ¡å•†è¿æ¥é¢æ¿              |
| `Ctrl+O` | é€‰æ‹©æ¨¡å‹   | æ‰“å¼€æ¨¡å‹é€‰æ‹©å¯¹è¯æ¡†              |
| `Ctrl+S` | åˆ‡æ¢æ¨¡å‹   | åœ¨æœ€è¿‘æ¨¡å‹é—´å¿«é€Ÿåˆ‡æ¢            |
| `Ctrl+C` | é€€å‡ºç¨‹åº   | å…³é—­åº”ç”¨                        |

### 2. Monitor ç•Œé¢ (Monitor Screen)

**åŠŸèƒ½**ï¼šå®æ—¶ç›‘æ§ Swarm æ¨¡å¼ä¸­çš„å¤šæ™ºèƒ½ä½“æ‰§è¡Œè¿‡ç¨‹

**ç•Œé¢å¸ƒå±€**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Monitor - Swarm Execution                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Agents  â”‚  Execution Timeline            â”‚  Mission Plan     â”‚
â”‚         â”‚                                â”‚                   â”‚
â”‚ â— Alice â”‚  [12:00:01] Thinking...        â”‚  âœ… Task 1       â”‚
â”‚   Bob   â”‚  [12:00:03] Tool: read_file    â”‚  ğŸ”„ Task 2 (Bob) â”‚
â”‚         â”‚  > path: src/main.py           â”‚  â³ Task 3       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  > å‘ Alice å‘é€æ¶ˆæ¯...                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¿«æ·é”®**ï¼š

| å¿«æ·é”®   | åŠŸèƒ½         | è¯´æ˜                        |
| -------- | ------------ | --------------------------- |
| `â†‘` `â†“`  | é€‰æ‹©æ™ºèƒ½ä½“   | åœ¨å·¦ä¾§åˆ—è¡¨ä¸­åˆ‡æ¢            |
| `Enter`  | å‘é€å¹²é¢„æ¶ˆæ¯ | å‘é€‰ä¸­çš„æ™ºèƒ½ä½“å‘é€æŒ‡ä»¤      |
| `Esc`    | è¿”å›ä¼šè¯     | é€€å‡ºç›‘æ§ï¼Œå›åˆ° Session ç•Œé¢ |
| `Ctrl+C` | é€€å‡ºç¨‹åº     | å…³é—­åº”ç”¨                    |

**å®æ—¶çŠ¶æ€æ˜¾ç¤º**ï¼š

- **æ€è€ƒä¸­**ï¼šæ˜¾ç¤º "ğŸ¤” æ€è€ƒä¸­..."
- **å·¥å…·è°ƒç”¨**ï¼šæ˜¾ç¤º "ğŸ”§ è°ƒç”¨å·¥å…·: tool_name"
- **ç­‰å¾…å“åº”**ï¼šæ˜¾ç¤ºè¿›åº¦åŠ¨ç”»

**æ¨¡å¼è¯´æ˜**ï¼š

- **Chat æ¨¡å¼**ï¼šå•æ™ºèƒ½ä½“å¯¹è¯ï¼Œé€‚ç”¨äºç®€å•æŸ¥è¯¢å’Œäº¤äº’
- **Swarm æ¨¡å¼**ï¼šå¯åŠ¨ Watchdog æ¶æ„å¸ˆï¼Œè‡ªåŠ¨åè°ƒå¤šæ™ºèƒ½ä½“å®Œæˆå¤æ‚ä»»åŠ¡

### 3. æœåŠ¡å•†é…ç½® (Ctrl+P)

**ç•Œé¢ç¤ºä¾‹**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Connect to Providers                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŸ¢ OpenAI          [å·²è¿æ¥]          â”‚
â”‚  âšª Anthropic       [æœªè¿æ¥]          â”‚
â”‚  âšª Google          [æœªè¿æ¥]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€‰æ‹©æœåŠ¡å•†ä»¥é…ç½® API Key             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ“ä½œæ­¥éª¤**ï¼š

1. ä½¿ç”¨ `â†‘` `â†“` é€‰æ‹©æœåŠ¡å•†
2. æŒ‰ `Enter` æ‰“å¼€ API Key è¾“å…¥å¯¹è¯æ¡†
3. ç²˜è´´ä½ çš„ API Key å¹¶ç¡®è®¤
4. çŠ¶æ€ç¯å˜ä¸º ğŸŸ¢ è¡¨ç¤ºè¿æ¥æˆåŠŸ
5. æŒ‰ `Esc` å…³é—­é¢æ¿

**æ”¯æŒçš„æœåŠ¡å•†**ï¼ˆé»˜è®¤é…ç½®ï¼‰ï¼š

- Stepã€Qwenã€DeepSeekã€Moonshotã€MiniMax
- OpenAIã€OpenRouter

> å®é™…åˆ—è¡¨å‚è§ `backend/llm_config.json`ï¼Œå¯æ ¹æ®éœ€è¦è‡ªå®šä¹‰ã€‚

### 4. æ¨¡å‹é€‰æ‹© (Ctrl+O)

**ç•Œé¢ç¤ºä¾‹**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Select Model                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     â— deepseek-chat                   â”‚
â”‚      deepseek-reasoner               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â†‘â†“: å¯¼èˆª  Enter: é€‰æ‹©  Esc: å–æ¶ˆ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ“ä½œè¯´æ˜**ï¼š

- åªæ˜¾ç¤ºå·²è¿æ¥æœåŠ¡å•†çš„æ¨¡å‹
- ä½¿ç”¨ `â†‘` `â†“` å¯¼èˆªï¼Œ`Enter` ç¡®è®¤é€‰æ‹©
- å½“å‰é€‰ä¸­çš„æ¨¡å‹ç”¨ `â—` æ ‡è®°

---

## ğŸ’» CLI ä½¿ç”¨æŒ‡å—ï¼ˆä¾›æµ‹è¯•ï¼‰

### main.py - Watchdog å¯åŠ¨å™¨

**åŸºæœ¬ç”¨æ³•**ï¼š

```bash
python main.py [OPTIONS] [QUERY]
```

**å‚æ•°è¯´æ˜**ï¼š

| å‚æ•°             | ç±»å‹   | é»˜è®¤å€¼      | è¯´æ˜                                 |
| ---------------- | ------ | ----------- | ------------------------------------ |
| `QUERY`          | string | -           | ä»»åŠ¡æè¿°ï¼ˆå¯é€‰ï¼Œä¸æä¾›åˆ™äº¤äº’å¼è¾“å…¥ï¼‰ |
| `--role`         | string | `Architect` | ä¸»æ™ºèƒ½ä½“çš„è§’è‰²                       |
| `--name`         | string | `Watchdog`  | ä¸»æ™ºèƒ½ä½“çš„åç§°                       |
| `--keep-history` | flag   | False       | ä¿ç•™ä¸Šæ¬¡çš„é»‘æ¿æ•°æ®                   |
| `--model`        | string | ä»é…ç½®è¯»å–  | æŒ‡å®šæ¨¡å‹ï¼ˆå¦‚ `openai/gpt-5-mini`ï¼‰   |
| `--keys`         | string | `keys.json` | API Keys é…ç½®æ–‡ä»¶è·¯å¾„                |

**ç¤ºä¾‹**ï¼š

```bash
# 1. äº¤äº’æ¨¡å¼
python main.py

# 2. ç›´æ¥æ‰§è¡Œä»»åŠ¡
python main.py "å¼€å‘ä¸€ä¸ªå‘½ä»¤è¡Œè®¡ç®—å™¨"

# 3. æŒ‡å®šæ¨¡å‹
python main.py --model "qwen/qwen3-max" "åˆ†æè¿™æ®µä»£ç çš„æ€§èƒ½"

# 4. è‡ªå®šä¹‰ Watchdog è§’è‰²
python main.py --role "èµ„æ·±è½¯ä»¶æ¶æ„å¸ˆ" --name "Architect" "è®¾è®¡ä¸€ä¸ªå¾®æœåŠ¡æ¶æ„"
```

### src/cli.py - Worker å¯åŠ¨å™¨

**åŸºæœ¬ç”¨æ³•**ï¼š

```bash
python src/cli.py --role ROLE --name NAME [OPTIONS]
```

---

## ğŸ“‚ ç›®å½•ç»“æ„è¯¦è§£

### é¡¹ç›®æ ¹ç›®å½•

```
nano_agent_team/
â”œâ”€â”€ tui.py                   # TUI ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ main.py                  # CLI Watchdog å¯åŠ¨å™¨
â”œâ”€â”€ requirements.txt         # Python ä¾èµ–å£°æ˜
â”œâ”€â”€ LICENSE                  # MIT è®¸å¯è¯
â”œâ”€â”€ README_CN.md             # æœ¬æ–‡æ¡£
â”œâ”€â”€ README.md                # è‹±æ–‡æ–‡æ¡£
â”œâ”€â”€ dev_log.md               # å¼€å‘æ—¥å¿—
â”‚
â”œâ”€â”€ src/                     # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ cli.py               # Worker CLI å¯åŠ¨å™¨
â”‚   â”œâ”€â”€ core/                # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ prompts/             # ç³»ç»Ÿæç¤ºè¯
â”‚   â”œâ”€â”€ tools/               # æ™ºèƒ½ä½“å·¥å…·
â”‚   â”œâ”€â”€ tui/                 # TUI ç•Œé¢ä»£ç 
â”‚   â””â”€â”€ utils/               # å®ç”¨å·¥å…·
â”‚
â”œâ”€â”€ backend/                 # åç«¯åŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ infra/               # é…ç½®ä¸ç¯å¢ƒç®¡ç†
â”‚   â”œâ”€â”€ llm/                 # LLM å¼•æ“å’Œæ³¨å†Œè¡¨
â”‚   â”œâ”€â”€ tools/               # é€šç”¨å·¥å…·å®ç°
â”‚   â””â”€â”€ utils/               # åç«¯å·¥å…·
â”‚
â”œâ”€â”€ .blackboard/session_**   # [è¿è¡Œæ—¶] é»‘æ¿æ•°æ®
â”‚   â”œâ”€â”€ global_indices/      # å…¨å±€ç´¢å¼•
â”‚   â”œâ”€â”€ resources/           # èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ mailboxes/           # æ™ºèƒ½ä½“ä¿¡ç®±
â”‚   â””â”€â”€ logs/                # æ‰§è¡Œæ—¥å¿—
â”‚
â”œâ”€â”€ .skills/                 # [å¯é€‰] æŠ€èƒ½æ’ä»¶ç›®å½•
â”‚   â””â”€â”€ arxiv-search/        # ç¤ºä¾‹ï¼šå­¦æœ¯æœç´¢æŠ€èƒ½
â”‚       â”œâ”€â”€ SKILL.md
â”‚       â”œâ”€â”€ arxiv_search.py
â”‚       â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ blackboard_templates/    # é»‘æ¿æ¨¡æ¿
â”‚   â””â”€â”€ central_plan.md      # ä»»åŠ¡è®¡åˆ’æ¨¡æ¿
â”‚
â””â”€â”€ logs/                    # [è¿è¡Œæ—¶] ä¼šè¯å½’æ¡£
    â””â”€â”€ app.log
    â””â”€â”€ tui.log
```

### src/ - æ ¸å¿ƒæºä»£ç 

```
src/
â”œâ”€â”€ cli.py                      # Worker æ™ºèƒ½ä½“ CLI å¯åŠ¨å™¨
â”‚
â”œâ”€â”€ core/                       # æ ¸å¿ƒé€»è¾‘æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ agent_wrapper.py        # SwarmAgent æ ¸å¿ƒç±»
â”‚   â”œâ”€â”€ middlewares.py          # ä¸­é—´ä»¶ç³»ç»Ÿ
â”‚   â”œâ”€â”€ prompt_builder.py       # æç¤ºè¯æ„å»ºå™¨
â”‚   â”œâ”€â”€ protocol.py             # é»‘æ¿åè®®è§£æ
â”‚   â”œâ”€â”€ schema.py               # æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ runtime.py              # è¿è¡Œæ—¶ç®¡ç†
â”‚   â””â”€â”€ ipc/                    # è¿›ç¨‹é—´é€šä¿¡
â”‚       â””â”€â”€ request_manager.py  # è¯·æ±‚ç®¡ç†å™¨
â”‚
â”œâ”€â”€ prompts/                    # ç³»ç»Ÿæç¤ºè¯
â”‚   â””â”€â”€ architect.md            # Watchdog æ¶æ„å¸ˆæç¤ºè¯
â”‚
â”œâ”€â”€ tools/                      # æ™ºèƒ½ä½“ä¸“ç”¨å·¥å…·
â”‚   â”œâ”€â”€ blackboard_tool.py      # é»‘æ¿è¯»å†™å·¥å…·
â”‚   â”œâ”€â”€ spawn_tool.py           # æ™ºèƒ½ä½“ç”Ÿæˆå·¥å…·
â”‚   â”œâ”€â”€ wait_tool.py            # ç­‰å¾…å·¥å…·
â”‚   â”œâ”€â”€ status_tool.py          # çŠ¶æ€æ›´æ–°å·¥å…·
â”‚   â””â”€â”€ finish_tool.py          # ä»»åŠ¡å®Œæˆå·¥å…·
â”‚
â”œâ”€â”€ tui/                        # TUI ç•Œé¢ä»£ç 
â”‚   â”œâ”€â”€ app.py                  # TUI ä¸»åº”ç”¨ç±»
â”‚   â”œâ”€â”€ agent_bridge.py         # æ™ºèƒ½ä½“æ¡¥æ¥
â”‚   â”œâ”€â”€ state.py                # å…¨å±€çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ themes.py               # ä¸»é¢˜é…ç½®
â”‚   â”œâ”€â”€ commands.py             # å‘½ä»¤å¤„ç†
â”‚   â”œâ”€â”€ slash_commands.py       # æ–œæ å‘½ä»¤
â”‚   â”œâ”€â”€ constants.py            # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ components/             # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ message.py          # æ¶ˆæ¯ç»„ä»¶
â”‚   â”‚   â””â”€â”€ plan_widget.py      # è®¡åˆ’çœ‹æ¿ç»„ä»¶
â”‚   â”œâ”€â”€ dialogs/                # å¯¹è¯æ¡†
â”‚   â”‚   â”œâ”€â”€ provider.py         # æœåŠ¡å•†é…ç½®
â”‚   â”‚   â”œâ”€â”€ model.py            # æ¨¡å‹é€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ api_key.py          # API Key è¾“å…¥
â”‚   â”‚   â””â”€â”€ command.py          # å‘½ä»¤é¢æ¿
â”‚   â””â”€â”€ screens/                # å±å¹•
â”‚       â”œâ”€â”€ session.py          # ä¼šè¯ç•Œé¢
â”‚       â””â”€â”€ monitor.py          # ç›‘æ§ç•Œé¢
â”‚
â””â”€â”€ utils/                      # å®ç”¨å·¥å…·
    â””â”€â”€ file_lock.py            # æ–‡ä»¶é”ï¼ˆé˜²æ­¢å¹¶å‘å†²çªï¼‰
```

### backend/ - åç«¯åŸºç¡€è®¾æ–½

```
backend/
â”œâ”€â”€ infra/                      # åŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ config.py               # å…¨å±€é…ç½®ç±»
â”‚   â”œâ”€â”€ auth.py                 # è®¤è¯ç®¡ç†å™¨
â”‚   â”œâ”€â”€ environment.py          # ç¯å¢ƒæŠ½è±¡
â”‚   â”œâ”€â”€ provider_registry.py    # LLM æœåŠ¡å•†æ³¨å†Œè¡¨
â”‚   â””â”€â”€ envs/                   # æ‰§è¡Œç¯å¢ƒ
â”‚       â”œâ”€â”€ local.py            # æœ¬åœ°ç¯å¢ƒ
â”‚       â”œâ”€â”€ docker_env.py       # Docker ç¯å¢ƒ
â”‚       â””â”€â”€ e2b_env.py          # E2B äº‘ç¯å¢ƒ
â”‚
â”œâ”€â”€ llm/                        # LLM å¼•æ“
â”‚   â”œâ”€â”€ engine.py               # AgentEngine æ ¸å¿ƒ
â”‚   â”œâ”€â”€ providers.py            # å¤šæ¨¡å‹é€‚é…å™¨
â”‚   â”œâ”€â”€ middleware.py           # LLM ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ tool_registry.py        # å·¥å…·æ³¨å†Œç³»ç»Ÿ
â”‚   â”œâ”€â”€ skill_registry.py       # æŠ€èƒ½æ³¨å†Œç³»ç»Ÿ
â”‚   â”œâ”€â”€ events.py               # äº‹ä»¶å®šä¹‰
â”‚   â”œâ”€â”€ types.py                # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ decorators.py           # è£…é¥°å™¨
â”‚
â”œâ”€â”€ tools/                      # é€šç”¨å·¥å…·å®ç°
â”‚   â”œâ”€â”€ base.py                 # å·¥å…·åŸºç±»
â”‚   â”œâ”€â”€ read_file.py            # è¯»æ–‡ä»¶
â”‚   â”œâ”€â”€ write_file.py           # å†™æ–‡ä»¶
â”‚   â”œâ”€â”€ edit_file.py            # ç¼–è¾‘æ–‡ä»¶
â”‚   â”œâ”€â”€ bash.py                 # æ‰§è¡Œ Bash å‘½ä»¤
â”‚   â”œâ”€â”€ web_search.py           # ç½‘ç»œæœç´¢
â”‚   â”œâ”€â”€ web_reader.py           # ç½‘é¡µè¯»å–
â”‚   â”œâ”€â”€ arxiv_search.py         # å­¦æœ¯æœç´¢
â”‚   â”œâ”€â”€ browser_use.py          # æµè§ˆå™¨è‡ªåŠ¨åŒ–
â”‚   â”œâ”€â”€ grep.py                 # å†…å®¹æ£€ç´¢
â”‚   â”œâ”€â”€ glob.py                 # æ–‡ä»¶åŒ¹é…
â”‚   â”œâ”€â”€ subagent.py             # å­æ™ºèƒ½ä½“å·¥å…·
â”‚   â””â”€â”€ activate_skill.py       # æŠ€èƒ½æ¿€æ´»
â”‚
â””â”€â”€ utils/                      # åç«¯å·¥å…·
    â”œâ”€â”€ logger.py               # æ—¥å¿—ç®¡ç†
    â”œâ”€â”€ audit_guard.py          # å®¡è®¡å®ˆå«
    â””â”€â”€ langfuse_manager.py     # Langfuse é›†æˆ
```

### .blackboard/ - é»‘æ¿æ•°æ®ç›®å½•ï¼ˆè¿è¡Œæ—¶ï¼‰

```
.blackboard/session_<timestamp>
â”œâ”€â”€ global_indices/
â”œâ”€â”€ resources/
â”œâ”€â”€ mailboxes/
â””â”€â”€ logs/
```

### .skills/ - æŠ€èƒ½æ’ä»¶ç›®å½•

```
.skills/                        # [ç”¨æˆ·è‡ªå®šä¹‰æŠ€èƒ½]
â”‚
â”œâ”€â”€ arxiv-search/               # ç¤ºä¾‹ï¼šå­¦æœ¯è®ºæ–‡æœç´¢
â”‚   â”œâ”€â”€ SKILL.md                # æŠ€èƒ½æè¿°å’Œä½¿ç”¨è¯´æ˜
â”‚   â”œâ”€â”€ arxiv_search.py         # æŠ€èƒ½å®ç°
â”‚   â”œâ”€â”€ requirements.txt        # ä¾èµ–å£°æ˜
â”‚   â””â”€â”€ eval.md                 # è¯„ä¼°æ ‡å‡†
â”‚
â””â”€â”€ custom-skill/               # ç”¨æˆ·è‡ªå®šä¹‰æŠ€èƒ½
    â”œâ”€â”€ SKILL.md
    â”œâ”€â”€ custom_skill.py
    â””â”€â”€ requirements.txt
```

### é…ç½®æ–‡ä»¶ç›®å½•

```
~/.nano_agent_team/            # ç”¨æˆ·é…ç½®ç›®å½•
â”œâ”€â”€ auth.json                   # API Keys
â”œâ”€â”€ tui_state.json              # TUI çŠ¶æ€ï¼ˆæœ€è¿‘æ¨¡å‹ï¼‰
```

---

## ğŸ—‚ï¸ é»‘æ¿æœºåˆ¶

é»‘æ¿ç”¨äºå¤šæ™ºèƒ½ä½“åä½œçš„å…±äº«çŠ¶æ€ä¸äº§ç‰©ç®¡ç†ï¼Œè¿è¡Œæ—¶ç”Ÿæˆåœ¨ `.blackboard/`ã€‚

### ç›®å½•æ¦‚è§ˆï¼ˆè¿è¡Œæ—¶ï¼‰

- `global_indices/`ï¼šç´¢å¼•æ–‡ä»¶ï¼ˆå¸¦ YAML Frontmatterï¼‰
- `resources/`ï¼šå¤§æ–‡ä»¶ä¸äº§ç‰©ï¼ˆä»£ç ã€æŠ¥å‘Šã€æ•°æ®ç­‰ï¼‰
- `mailboxes/`ï¼šæ™ºèƒ½ä½“ä¿¡ç®±ï¼ˆJSON åˆ—è¡¨ï¼‰
- `logs/`ï¼šè¿è¡Œæ—¥å¿—

### blackboard_toolï¼ˆSwarm æ¨¡å¼ï¼‰

å½“å‰æ”¯æŒçš„æ“ä½œï¼š

- `list_indices`
- `read_index`ï¼ˆ`filename`ï¼‰
- `append_to_index`ï¼ˆ`filename`, `content`ï¼‰
- `update_index`ï¼ˆ`filename`, `content`, `expected_checksum`ï¼‰
- `update_task`ï¼ˆ`filename` å¯é€‰, `task_id`, `updates`, `expected_checksum`ï¼‰
- `create_index`ï¼ˆ`filename`, `content`ï¼‰
- `list_templates` / `read_template`
- `list_resources`

ç¤ºä¾‹ï¼š

```python
agent.call_tool("blackboard_tool", {
    "operation": "read_index",
    "filename": "central_plan.md"
})

agent.call_tool("blackboard_tool", {
    "operation": "update_task",
    "task_id": "task_1",
    "updates": {"status": "IN_PROGRESS"}
})
```

### å¹¶å‘æ§åˆ¶

ä½¿ç”¨æ–‡ä»¶é”ä¿è¯åŸå­æ€§è¯»å†™ï¼š

```python
from src.utils.file_lock import file_lock

with file_lock(".blackboard/global_indices/central_plan.md", "r+"):
    content = read_file("central_plan.md")
    updated = modify(content)
    write_file("central_plan.md", updated)
```

---

## ğŸš€ é«˜çº§ç”¨æ³•

### 1. è‡ªå®šä¹‰ Watchdog æç¤ºè¯

ç¼–è¾‘ [architect.md]`src/prompts/architect.md` å®šåˆ¶ Swarm çš„è§„åˆ’ä¸çº¦æŸç­–ç•¥ã€‚

### 2. å¤šæ¨¡å‹æ··ç”¨

```bash
python main.py --model "qwen/qwen3" "å¼€å‘ä¸€ä¸ªåšå®¢ç³»ç»Ÿ"
```

```python
agent.call_tool("spawn_swarm_agent", {
    "name": "Coder",
    "role": "Python å¼€å‘",
    "model": "deepseek/deepseek-chat",
    "goal": "å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½"
})
```

### 3. å­ä»£ç†ä¸æŠ€èƒ½

- å­ä»£ç†ï¼š`.subagents/*.md` ä¼šè¢«æ³¨å†Œä¸ºåŒåå·¥å…·ï¼ˆå¦‚ `file_organizer`ï¼‰
- æŠ€èƒ½ï¼š`activate_skill` ä¼šè¿”å› SOP ä¸æ“ä½œçº¦æŸï¼ŒæŒ‰å…¶æŒ‡å¼•æ‰§è¡Œ

````

---

## â“ å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•åˆ‡æ¢æ¨¡å‹ï¼Ÿ

**A**: åœ¨ TUI ä¸­æŒ‰ `Ctrl+O` é€‰æ‹©æ¨¡å‹ï¼Œæˆ–åœ¨ CLI ä¸­ä½¿ç”¨ `--model` å‚æ•°ï¼š

```bash
python main.py --model "qwen/qwen3" "ä»»åŠ¡æè¿°"
````

### Q2: æ™ºèƒ½ä½“æ— å“åº”æ€ä¹ˆåŠï¼Ÿ

**A**: å¯èƒ½çš„åŸå› å’Œè§£å†³æ–¹æ³•ï¼š

1. **Token é™åˆ¶**ï¼šå¢åŠ  `max_iterations` å‚æ•°

   ```bash
   python src/cli.py --max-iterations 100 ...
   ```

2. **ç½‘ç»œé—®é¢˜**ï¼šæ£€æŸ¥ API è¿æ¥ï¼ŒæŸ¥çœ‹æ—¥å¿—æ–‡ä»¶

3. **æ­»é”**ï¼šæŸ¥çœ‹ Monitor ç•Œé¢ï¼Œç¡®è®¤æ™ºèƒ½ä½“æ˜¯å¦åœ¨ç­‰å¾…å…¶ä»–æ™ºèƒ½ä½“

### Q3: å¦‚ä½•æ¸…ç†å†å²æ•°æ®ï¼Ÿ

**A**: åˆ é™¤é»‘æ¿ç›®å½•ï¼š

```bash
rm -rf .blackboard
```

### Q4: æ”¯æŒå“ªäº› LLM æ¨¡å‹ï¼Ÿ

**A**: ä»¥ `backend/llm_config.json` ä¸ºå‡†ï¼Œå¯æŒ‰éœ€æ‰©å±•ï¼Œé»˜è®¤åŒ…å«ï¼š

- OpenAI: gpt-5.2, gpt-5.1, gpt-5-mini, gpt-5-nano, gpt-5.2-codex
- DeepSeek: deepseek-chat, deepseek-reasoner
- Qwen: qwen3-max, qwen-plus, qwen-flash
- Step: step-3.5-flash
- Moonshot: kimi-k2.5, kimi-k2-turbo-preview
- MiniMax: MiniMax-M2.1
- OpenRouter

### Q5: å¦‚ä½•é™åˆ¶æ™ºèƒ½ä½“çš„æ–‡ä»¶è®¿é—®æƒé™ï¼Ÿ

**A**: ä½¿ç”¨ `LocalEnvironment` çš„ `allowed_write_paths` å‚æ•°ï¼š

```python
env = LocalEnvironment(
    workspace_root="/project",
    allowed_write_paths=[".blackboard"]  # åªå…è®¸å†™å…¥é»‘æ¿
)
```

### Q6: å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å—ï¼Ÿ

**A**: ç›®å‰å¤„äºå¼€å‘é˜¶æ®µï¼Œå»ºè®®ç”¨äºï¼š

- âœ… åŸå‹å¼€å‘
- âœ… ç ”ç©¶å®éªŒ
- âœ… è‡ªåŠ¨åŒ–è„šæœ¬

ä¸å»ºè®®ç”¨äºï¼š

- âŒ å…³é”®ä¸šåŠ¡ç³»ç»Ÿ
- âŒ å¤„ç†æ•æ„Ÿæ•°æ®
- âŒ æ— äººå€¼å®ˆçš„ç”Ÿäº§ç¯å¢ƒ

### Q7: å¦‚ä½•è´¡çŒ®ä»£ç ï¼Ÿ

**A**: å‚è§ [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)ã€‚

### Q8: æ™ºèƒ½ä½“ä¹‹é—´å¦‚ä½•é€šä¿¡ï¼Ÿ

**A**: ä¸»è¦é€šè¿‡ä¸¤ç§æ–¹å¼ï¼š

1. **é»‘æ¿ç´¢å¼•**ï¼šå…±äº«çš„ç´¢å¼•æ–‡ä»¶ï¼ˆå¦‚ `central_plan.md`ï¼‰
2. **ä¿¡ç®±ç³»ç»Ÿ**ï¼šç›´æ¥æ¶ˆæ¯ï¼ˆ`mailboxes/<agent_name>.json`ï¼‰

### Q9: å¦‚ä½•è°ƒè¯•æ™ºèƒ½ä½“è¡Œä¸ºï¼Ÿ

**A**:

1. **ä½¿ç”¨ Monitor ç•Œé¢**ï¼šå®æ—¶æŸ¥çœ‹æ€è€ƒè¿‡ç¨‹

2. **æ£€æŸ¥é»‘æ¿æ–‡ä»¶**ï¼šæ‰‹åŠ¨æŸ¥çœ‹ `.blackboard/` ä¸‹çš„æ–‡ä»¶

### Q11: browser_use å·¥å…·æ— æ³•ä½¿ç”¨æ€ä¹ˆåŠï¼Ÿ

**A**: å¦‚æœçœ‹åˆ°ç±»ä¼¼ "Failed to establish CDP connection" çš„é”™è¯¯ï¼š

1. **æ£€æŸ¥ Playwright æ˜¯å¦å®‰è£…**ï¼š

   ```bash
   playwright --version
   ```

2. **å®‰è£…æµè§ˆå™¨**ï¼š

   ```bash
   playwright install chromium
   ```

3. **éªŒè¯å®‰è£…**ï¼š
   ```bash
   python3 -c "from playwright.sync_api import sync_playwright; p = sync_playwright().start(); print(p.chromium.executable_path); p.stop()"
   ```
4. **æ£€æŸ¥LLM provider**ï¼š
   LLM provider éœ€æ”¯æŒ 'response_format' ä¸º 'json_object'ï¼Œå…·ä½“å¯å‚è€ƒ[browser_useæ–‡æ¡£](https://github.com/browser-use/browser-use)

5. **æ³¨æ„**ï¼š
   - ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨æ˜¯å¦å®‰è£…ï¼Œå¦‚æœªå®‰è£…ä¼šè·³è¿‡ browser_use å·¥å…·
   - è¿™ä¸å½±å“å…¶ä»–å·¥å…·çš„æ­£å¸¸ä½¿ç”¨

- æ—¥å¿—ä¸­ä¼šçœ‹åˆ°è­¦å‘Šä¿¡æ¯ï¼š`[ToolRegistry] Playwright browser not installed. Run 'playwright install chromium' to enable browser_use tool.`

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ—¨åœ¨æ¢ç´¢è‡ªä¸»å¤šagentç³»ç»Ÿçš„å¯è¡Œæ–¹å¼åŠå®é™…ä»·å€¼ï¼Œæ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼Œè¯·é‚®ä»¶æˆ–å¾®ä¿¡è”ç³»æˆ‘ä»¬ï¼

### è´¡çŒ®æ–¹å¼

1. **æŠ¥å‘Š Bug**ï¼šåœ¨ä»“åº“ Issues æäº¤è¯¦ç»†çš„é—®é¢˜æŠ¥å‘Š
2. **åŠŸèƒ½å»ºè®®**ï¼šæäº¤ Feature Request
3. **ä»£ç è´¡çŒ®**ï¼šæäº¤ Pull Request
4. **æ–‡æ¡£æ”¹è¿›**ï¼šå¸®åŠ©å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹
5. **æŠ€èƒ½æ’ä»¶**ï¼šåˆ†äº«ä½ çš„è‡ªå®šä¹‰æŠ€èƒ½

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE)ã€‚

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®ï¼š

- [opencode](https://github.com/anomalyco/opencode)
- [Textual](https://github.com/Textualize/textual)
- antigravity/cursor/...

---

## ğŸ“§ è”ç³»æ–¹å¼

- **Email**: <zc3930155@gmail.com> <wzq142857@gmail.com> <2910937975@qq.com>

- **å¾®ä¿¡**: 
![å¾®ä¿¡](docs/assets/mark.png)

---

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ Starï¼

Made with â¤ï¸ by Nano Agent Team Community
